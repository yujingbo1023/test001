import{_ as B,v as U,o as H,b as L,c as z,d as i,x as q,y as F,r as N,z as A,A as S,I as G,B as J,C as K,D as j,E as O,H as Q,e as _,w as b,u as d,J as k,t as I,K as X,p as Y,g as Z,L as T}from"./index.a69b785e.js";import{l as ee,s as V,i as te,r as oe}from"./index.06903a13.js";const ne=""+new URL("logo.1e8c34ec.png",import.meta.url).href;const le={class:"s-canvas"},ae=["width","height"],se={__name:"Identify",props:{identifyCode:{type:String,default:"1234"},fontSizeMin:{type:Number,default:35},fontSizeMax:{type:Number,default:35},backgroundColorMin:{type:Number,default:180},backgroundColorMax:{type:Number,default:240},colorMin:{type:Number,default:50},colorMax:{type:Number,default:160},lineColorMin:{type:Number,default:100},lineColorMax:{type:Number,default:200},dotColorMin:{type:Number,default:0},dotColorMax:{type:Number,default:255},contentWidth:{type:Number,default:120},contentHeight:{type:Number,default:40}},setup(g){const t=g,n=(e,o)=>Math.floor(Math.random()*(o-e)+e),s=(e,o)=>{let r=n(e,o),u=n(e,o),m=n(e,o);return"rgb("+r+","+u+","+m+")"},h=e=>{for(let o=0;o<3;o++)e.strokeStyle=s(t.lineColorMin,t.lineColorMax),e.beginPath(),e.moveTo(n(0,t.contentWidth),n(0,t.contentHeight)),e.lineTo(n(0,t.contentWidth),n(0,t.contentHeight)),e.stroke()},v=(e,o,r)=>{e.fillStyle=s(t.colorMin,t.colorMax),e.font=n(t.fontSizeMin,t.fontSizeMax)+"px SimHei";let u=(r+1)*(t.contentWidth/(t.identifyCode.length+1)),m=n(t.fontSizeMax,t.contentHeight-5);var c=n(-10,10);e.translate(u,m),e.rotate(c*Math.PI/100),e.fillText(o,0,0),e.rotate(-c*Math.PI/100),e.translate(-u,-m)},p=e=>{for(let o=0;o<30;o++)e.fillStyle=s(0,255),e.beginPath(),e.arc(n(0,t.contentWidth),n(0,t.contentHeight),1,0,2*Math.PI),e.fill()},y=()=>{let o=document.getElementById("s-canvas").getContext("2d");o.textBaseline="bottom",o.fillStyle=s(t.backgroundColorMin,t.backgroundColorMax),o.fillRect(0,0,t.contentWidth,t.contentHeight);for(let r=0;r<t.identifyCode.length;r++)v(o,t.identifyCode[r],r);h(o),p(o)};return U(()=>t.identifyCode,(e,o)=>{y()}),H(()=>{y()}),(e,o)=>(L(),z("div",le,[i("canvas",{id:"s-canvas",width:t.contentWidth,height:t.contentHeight},null,8,ae)]))}},ie=B(se,[["__scopeId","data-v-f46dff03"]]);const W=g=>(Y("data-v-52a7de69"),g=g(),Z(),g),de={class:"login"},re=W(()=>i("img",{src:ne,width:"150",alt:""},null,-1)),ue={class:"login-form"},ce={class:"identify"},fe=W(()=>i("span",null,"\u9A8C\u8BC1\u7801",-1)),_e={class:"register"},pe={style:{margin:"16px"}},me={__name:"Login",setup(g){q();let t=F(),n=N({}),s=N({username:"15614375553",password:"12345",isTitle:!0}),{username:h,password:v,isTitle:p}=A(s),y=()=>{},e=()=>{s.isTitle?(console.log("\u767B\u5F55"),ee(s.username,s.password).then(l=>{u.value==""||u.value!=c.value?T("\u9A8C\u8BC1\u7801\u9519\u8BEF"):l.resultCode==200&&(localStorage.setItem("mltoken",l.data),t.replace("/home"),V({type:"success",message:"\u767B\u9646\u6210\u529F"}),te().then(a=>{console.log(a),n.value=a.data,console.log(n.value)}))})):(console.log("\u6CE8\u518C"),oe(s.username,s.password).then(l=>{console.log(l),u.value==""||u.value!=c.value?T("\u9A8C\u8BC1\u7801\u9519\u8BEF"):l.resultCode==200&&(V({type:"success",message:"\u6CE8\u518C\u6210\u529F"}),s.isTitle=!0)}))},o=()=>{p.value=!p.value},r=l=>{console.log(c.value),console.log(l.target.value),u.value=l.target.value},u=S(""),m="1234567890",c=S("3212");const P=(l,a)=>Math.floor(Math.random()*(a-l)+l),M=(l,a)=>{for(let C=0;C<a;C++)c.value+=l[P(0,l.length)]},w=()=>{c.value="",M(m,4)};return H(()=>{c.value="",M(m,4)}),(l,a)=>{const C=G,R=J,x=K,$=j,D=O,E=Q;return L(),z("div",de,[i("header",null,[_(R,{title:d(p)?"\u767B\u5F55":"\u6CE8\u518C","left-arrow":"",onClickLeft:d(y)},{right:b(()=>[_(C,{name:"ellipsis",size:"18"})]),_:1},8,["title","onClickLeft"])]),re,i("div",ue,[_(E,{onSubmit:d(e)},{default:b(()=>[_($,{inset:""},{default:b(()=>[_(x,{modelValue:d(h),"onUpdate:modelValue":a[0]||(a[0]=f=>k(h)?h.value=f:h=f),name:"\u7528\u6237\u540D",label:"\u7528\u6237\u540D",placeholder:"\u624B\u673A\u53F7",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u624B\u673A\u53F7"}]},null,8,["modelValue"]),_(x,{modelValue:d(v),"onUpdate:modelValue":a[1]||(a[1]=f=>k(v)?v.value=f:v=f),type:"password",name:"\u5BC6\u7801",label:"\u5BC6\u7801",placeholder:"\u5BC6\u7801",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u5BC6\u7801"}]},null,8,["modelValue"])]),_:1}),i("div",ce,[fe,i("span",{class:"change",onClick:w},"\u6362\u4E00\u5F20"),i("input",{type:"text",onBlur:a[2]||(a[2]=f=>d(r)(f))},null,32),i("div",{onClick:w},[_(ie,{class:"iden",identifyCode:d(c)},null,8,["identifyCode"])])]),i("div",_e,[i("p",{onClick:a[3]||(a[3]=(...f)=>d(o)&&d(o)(...f))},I(d(p)?"\u7ACB\u5373\u6CE8\u518C":"\u5DF2\u6709\u8D26\u53F7,\u7ACB\u5373\u767B\u5F55"),1)]),i("div",pe,[_(D,{round:"",block:"",type:"primary","native-type":"submit"},{default:b(()=>[X(I(d(p)?"\u767B\u5F55":"\u6CE8\u518C"),1)]),_:1})])]),_:1},8,["onSubmit"])])])}}},ve=B(me,[["__scopeId","data-v-52a7de69"]]);export{ve as default};
